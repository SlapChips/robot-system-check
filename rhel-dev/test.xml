<config xmlns="http://tail-f.com/ns/config/1.0">
  <devices xmlns="http://tail-f.com/ns/ncs">
    <global-settings>
      <trace-dir>/var/log/ncs</trace-dir>
    </global-settings>
    <mib-group>
      <name>snmp</name>
      <mib-module>SNMP*</mib-module>
    </mib-group>
  </devices>
  <smart-license xmlns="http://tail-f.com/ns/ncs">
    <smart-agent>
      <stdout-capture>
        <file>/var/log/ncs/ncs-smart-licensing.log</file>
      </stdout-capture>
    </smart-agent>
  </smart-license>
  <python-vm xmlns="http://tail-f.com/ns/ncs">
    <logging>
      <log-file-prefix>/var/log/ncs/ncs-python-vm</log-file-prefix>
    </logging>
  </python-vm>
  <services xmlns="http://tail-f.com/ns/ncs">
    <logging>
      <logger>
        <name>default</name>
        <log-entry-level>info</log-entry-level>
      </logger>
    </logging>
  </services>
  <alarms xmlns="http://tail-f.com/ns/ncs-alarms">
    <alarm-model>
      <alarm-type>
        <type>connection-failure</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>communicationsAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>abort-error</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>processingErrorAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>revision-error</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>out-of-sync</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>final-commit-error</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>processingErrorAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>ned-live-tree-connection-failure</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>communicationsAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>configuration-error</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>commit-through-queue-failed</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>processingErrorAlarm</event-type>
        <has-clear>false</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>commit-through-queue-blocked</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>communicationsAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>symptom</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>commit-through-queue-rollback-failed</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>processingErrorAlarm</event-type>
        <has-clear>false</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>missing-transaction-id</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>symptom</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>bad-user-input</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>service-activation-failure</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>processingErrorAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>package-load-failure</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>package-operation-failure</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>false</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>receiver-configuration-error</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>operationalViolation</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>cluster-subscriber-failure</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>communicationsAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>root-cause</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>ha-master-down</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>communicationsAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>symptom</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
      <alarm-type>
        <type>ha-slave-down</type>
        <specific-problem-match>*</specific-problem-match>
        <event-type>communicationsAlarm</event-type>
        <has-clear>true</has-clear>
        <kind-of-alarm>symptom</kind-of-alarm>
        <probable-cause>0</probable-cause>
      </alarm-type>
    </alarm-model>
  </alarms>
  <scheduler xmlns="http://tail-f.com/ns/ncs-scheduler">
    <task>
      <name>purge-completed-queue-items</name>
      <schedule>0 0 * * *</schedule>
      <action-node xmlns:ncs="http://tail-f.com/ns/ncs">/ncs:devices/ncs:commit-queue/ncs:completed</action-node>
      <action-name>purge</action-name>
      <action-params>&lt;older-than>&lt;days>7&lt;/days>&lt;/older-than></action-params>
    </task>
  </scheduler>
  <snmp xmlns="http://tailf.com/ns/snmp">
    <agent>
      <enabled>false</enabled>
      <ip>0.0.0.0</ip>
      <udp-port>4000</udp-port>
      <version>
        <v1/>
        <v2c/>
        <v3/>
      </version>
      <engine-id>
        <enterprise-number>32473</enterprise-number>
        <from-text>testing</from-text>
      </engine-id>
      <max-message-size>50000</max-message-size>
    </agent>
    <system>
      <contact>ulfat</contact>
      <name></name>
      <location></location>
    </system>
    <vacm>
      <group>
        <name>initial</name>
        <member>
          <sec-name>initial</sec-name>
          <sec-model>usm</sec-model>
        </member>
        <access>
          <sec-model>usm</sec-model>
          <sec-level>no-auth-no-priv</sec-level>
          <read-view>internet</read-view>
          <notify-view>internet</notify-view>
        </access>
        <access>
          <sec-model>usm</sec-model>
          <sec-level>auth-no-priv</sec-level>
          <read-view>internet</read-view>
          <notify-view>internet</notify-view>
        </access>
        <access>
          <sec-model>usm</sec-model>
          <sec-level>auth-priv</sec-level>
          <read-view>internet</read-view>
          <notify-view>internet</notify-view>
        </access>
      </group>
      <group>
        <name>public</name>
        <member>
          <sec-name>public</sec-name>
          <sec-model>v1</sec-model>
          <sec-model>v2c</sec-model>
        </member>
        <access>
          <sec-model>any</sec-model>
          <sec-level>no-auth-no-priv</sec-level>
          <read-view>internet</read-view>
          <notify-view>internet</notify-view>
        </access>
      </group>
      <view>
        <name>internet</name>
        <subtree>
          <oids>1.3.6.1</oids>
          <included/>
        </subtree>
      </view>
      <view>
        <name>restricted</name>
        <subtree>
          <oids>1.3.6.1.6.3.11.2.1</oids>
          <included/>
        </subtree>
        <subtree>
          <oids>1.3.6.1.6.3.15.1.1</oids>
          <included/>
        </subtree>
      </view>
    </vacm>
  </snmp>
  <nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm">
    <read-default>deny</read-default>
    <write-default>deny</write-default>
    <exec-default>deny</exec-default>
    <groups>
      <group>
        <name>ncsadmin</name>
        <user-name>private</user-name>
      </group>
      <group>
        <name>ncsoper</name>
        <user-name>public</user-name>
      </group>
    </groups>
    <rule-list>
      <name>admin</name>
      <group>ncsadmin</group>
      <rule>
        <name>any-access</name>
        <action>permit</action>
      </rule>
      <cmdrule xmlns="http://tail-f.com/yang/acm">
        <name>any-command</name>
        <action>permit</action>
      </cmdrule>
    </rule-list>
    <rule-list>
      <name>oper</name>
      <group>ncsoper</group>
      <rule>
        <name>tailf-aaa-user</name>
        <module-name>tailf-aaa</module-name>
        <path>/user[name='$USER']</path>
        <access-operations>create read update delete</access-operations>
        <action>permit</action>
      </rule>
      <rule>
        <name>tailf-webui-user</name>
        <module-name>tailf-webui</module-name>
        <path>/webui/data-stores/user-profile[username='$USER']</path>
        <access-operations>create read update delete</access-operations>
        <action>permit</action>
      </rule>
      <rule>
        <name>tailf-aaa-alluser</name>
        <module-name>tailf-aaa</module-name>
        <path>/user</path>
        <action>deny</action>
      </rule>
      <rule>
        <name>tailf-aaa-aaa</name>
        <module-name>tailf-aaa</module-name>
        <path>/aaa</path>
        <action>deny</action>
      </rule>
      <rule>
        <name>nacm</name>
        <module-name>ietf-netconf-acm</module-name>
        <path>/</path>
        <action>deny</action>
      </rule>
      <rule>
        <name>read-only</name>
        <path>/</path>
        <access-operations>read</access-operations>
        <action>permit</action>
      </rule>
      <cmdrule xmlns="http://tail-f.com/yang/acm">
        <name>c-logout</name>
        <command>logout</command>
        <action>deny</action>
      </cmdrule>
      <cmdrule xmlns="http://tail-f.com/yang/acm">
        <name>j-logout</name>
        <command>request system logout</command>
        <action>deny</action>
      </cmdrule>
      <cmdrule xmlns="http://tail-f.com/yang/acm">
        <name>any-command</name>
        <action>permit</action>
      </cmdrule>
    </rule-list>
    <cmd-read-default xmlns="http://tail-f.com/yang/acm">deny</cmd-read-default>
    <cmd-exec-default xmlns="http://tail-f.com/yang/acm">deny</cmd-exec-default>
  </nacm>
</config>
